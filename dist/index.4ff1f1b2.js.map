{"mappings":"AAAA,SAASA,EAAYC,EAAS,IAC5B,MAAMC,EAAWC,SAASC,cAAc,4BAClCC,EAAYF,SAASC,cAAc,uBAEzCF,EAASI,QAAQF,cAAc,0BAA0BG,YACvDN,EAAOO,MAETN,EAASI,QAAQF,cAAc,yBAAyBG,YACtDN,EAAOQ,YAETP,EAASI,QAAQF,cAAc,wBAAwBM,IAAMT,EAAOU,OAEpET,EAASI,QAAQF,cAAc,yBAAyBQ,KAAOX,EAAOY,IAEtE,MAAMC,EAAQX,SAASY,WAAWb,EAASI,SAAS,GACpDD,EAAUW,YAAYF,E,EAmCxB,WA/BSG,MACL,+JAECC,MAAMC,GACEA,EAAIC,SAEZF,MAAMG,IAGL,MAAMC,EAAmBD,EAAKE,MAAMC,KAAKC,IAChC,CACLjB,MAAOiB,EAAKC,OAAOC,OACnBlB,YAAagB,EAAKC,OAAOjB,YACzBI,IAAKY,EAAKC,OAAOb,IACjBe,QAASH,EAAKC,OAAOf,OAAOkB,IAAIC,GAChCC,SAAUV,EAAKU,SAASC,UAO5B,OAJAV,EAAiBW,SAASR,IACxB,MAAMK,GAMOF,EANUH,EAAKG,QAASH,EAAKM,SAOvBG,MAAMC,GACtBA,EAAEN,IAAIC,IAAMF,KAFvB,IAAqBA,EALbH,EAAKd,OAAS,SAAWmB,EAAGJ,OAAOU,KAAKvB,GAAG,IAEtCS,CAAgB,IAUhBJ,MAAMmB,IACf,IAAK,MAAMC,KAAKD,EACdrC,EAAYsC,EAAE,IAIlB,MAAMC,EAAWpC,SAASC,cAAc,gBACxCoC,UAAUD,GAEV,MAAME,EAAkBtC,SAASC,cAAc,gBAC/CsC,UAAUD,E,CAEZE","sources":["src/scripts/portfolio.js"],"sourcesContent":["function addWorkCard(params = {}) {\r\n  const template = document.querySelector(\"#portfolio-card-template\");\r\n  const container = document.querySelector(\".portfolio__content\");\r\n\r\n  template.content.querySelector(\".portfolio-card__title\").textContent =\r\n    params.title;\r\n\r\n  template.content.querySelector(\".portfolio-card__text\").textContent =\r\n    params.descripcion;\r\n\r\n  template.content.querySelector(\".portfolio-card__img\").src = params.imagen;\r\n\r\n  template.content.querySelector(\".portfolio-card__link\").href = params.url;\r\n\r\n  const clone = document.importNode(template.content, true);\r\n  container.appendChild(clone);\r\n}\r\n\r\nfunction getWorks() {\r\n  return fetch(\r\n    \"https://cdn.contentful.com/spaces/skgryj111lli/environments/master/entries?access_token=aTnhAttXnsH4e8xRgQRFUI_CpZr_uN8qa6ts0Ps9p1I&&content_type=portfolio\"\r\n  )\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .then((data) => {\r\n      //   console.log(data);\r\n\r\n      const fieldsCollection = data.items.map((item) => {\r\n        return {\r\n          title: item.fields.titulo,\r\n          descripcion: item.fields.descripcion,\r\n          url: item.fields.url,\r\n          imageID: item.fields.imagen.sys.id,\r\n          includes: data.includes.Asset,\r\n        };\r\n      });\r\n      fieldsCollection.forEach((item) => {\r\n        const id = buscarAsset(item.imageID, item.includes);\r\n        item.imagen = \"https:\" + id.fields.file.url;\r\n      });\r\n      return fieldsCollection;\r\n    });\r\n}\r\nfunction buscarAsset(imageID, includes) {\r\n  const located = includes.find((x) => {\r\n    return x.sys.id == imageID;\r\n  });\r\n  return located;\r\n}\r\nfunction main() {\r\n  getWorks().then((works) => {\r\n    for (const w of works) {\r\n      addWorkCard(w);\r\n    }\r\n  });\r\n\r\n  const footerEl = document.querySelector(\".footer-cont\");\r\n  footerAdd(footerEl);\r\n\r\n  const containerHeader = document.querySelector(\".header-cont\");\r\n  headerAdd(containerHeader);\r\n}\r\nmain();\r\n"],"names":["$5a483276a7b840c8$var$addWorkCard","params","template","document","querySelector","container","content","textContent","title","descripcion","src","imagen","href","url","clone","importNode","appendChild","fetch","then","res","json","data","fieldsCollection","items","map","item","fields","titulo","imageID","sys","id","includes","Asset","forEach","find","x","file","works","w","footerEl","footerAdd","containerHeader","headerAdd","$5a483276a7b840c8$var$main"],"version":3,"file":"index.4ff1f1b2.js.map"}